<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCæ•´åˆåŒ…æ–‡ä»¶åˆ—è¡¨ | è‡ªåŠ¨æ›´æ–°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
        }
        body {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            background-color: #f5f5f5;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .header p {
            color: #7f8c8d;
            font-size: 16px;
        }
        .file-list {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .file-header {
            display: grid;
            grid-template-columns: 3fr 1fr 1fr 1fr;
            padding: 15px;
            background-color: #3498db;
            color: white;
            font-weight: bold;
        }
        .file-item {
            display: grid;
            grid-template-columns: 3fr 1fr 1fr 1fr;
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            transition: background-color 0.2s;
        }
        .file-item:hover {
            background-color: #f8f9fa;
        }
        .file-item:last-child {
            border-bottom: none;
        }
        .file-name a {
            color: #2980b9;
            text-decoration: none;
        }
        .file-name a:hover {
            text-decoration: underline;
        }
        .file-size, .file-time, .file-type {
            text-align: center;
            color: #555;
        }
        .folder {
            color: #f39c12 !important;
        }
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #7f8c8d;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>MCæ•´åˆåŒ…è‡ªåŠ¨æ›´æ–°æ–‡ä»¶åˆ—è¡¨</h1>
        <p>HMCLå¯åŠ¨å™¨è‡ªåŠ¨æ›´æ–°åœ°å€ï¼š<span id="baseUrl"></span></p>
    </div>

    <div class="file-list">
        <div class="file-header">
            <div>æ–‡ä»¶å</div>
            <div>æ–‡ä»¶å¤§å°</div>
            <div>æ–‡ä»¶ç±»å‹</div>
            <div>ä¿®æ”¹æ—¶é—´</div>
        </div>
        <div id="filesContainer"></div>
    </div>

    <div class="footer">
        <p>æ•´åˆåŒ…è‡ªåŠ¨æ›´æ–°ç”±HMCLå¯åŠ¨å™¨æä¾›æ”¯æŒ | æœ€åæ›´æ–°ï¼š<span id="updateTime"></span></p>
    </div>

    <script>
        // å·¥å…·å‡½æ•°ï¼šæ ¼å¼åŒ–æ–‡ä»¶å¤§å°
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return (bytes / Math.pow(k, i)).toFixed(2) + ' ' + sizes[i];
        }

        // å·¥å…·å‡½æ•°ï¼šæ ¼å¼åŒ–æ—¶é—´
        function formatTime(timestamp) {
            const date = new Date(timestamp);
            return date.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
        }

        // è‡ªåŠ¨è·å–å½“å‰é¡µé¢URLä½œä¸ºHMCLæ›´æ–°åœ°å€
        function setBaseUrl() {
            const baseUrl = window.location.href.replace('index.html', '');
            document.getElementById('baseUrl').textContent = baseUrl;
            document.getElementById('updateTime').textContent = formatTime(new Date().getTime());
        }

        // æ¨¡æ‹Ÿæ–‡ä»¶åˆ—è¡¨ï¼ˆå¦‚æœä½ çš„æœåŠ¡å™¨æ”¯æŒç›®å½•éå†ï¼Œå¯æ›¿æ¢ä¸ºåç«¯æ¥å£ï¼‰
        // æ³¨æ„ï¼šå®é™…ä½¿ç”¨æ—¶ï¼Œéœ€æ ¹æ®ä½ çš„çœŸå®æ–‡ä»¶ç›®å½•ä¿®æ”¹è¿™ä¸ªæ•°ç»„
        const fileList = [
            { name: 'server-manifest.json', size: 12345, type: 'JSONæ–‡ä»¶', time: new Date().getTime() - 3600000 },
            { name: 'mods/', size: 0, type: 'æ–‡ä»¶å¤¹', time: new Date().getTime() - 7200000 },
            { name: 'mods/fabric-api-0.91.0+1.20.1.jar', size: 2568900, type: 'JARæ–‡ä»¶', time: new Date().getTime() - 86400000 },
            { name: 'mods/jei-1.20.1-15.2.0.25.jar', size: 1890000, type: 'JARæ–‡ä»¶', time: new Date().getTime() - 86400000 },
            { name: 'config/', size: 0, type: 'æ–‡ä»¶å¤¹', time: new Date().getTime() - 7200000 },
            { name: 'config/fabric-api.json', size: 2345, type: 'JSONæ–‡ä»¶', time: new Date().getTime() - 86400000 },
            { name: 'resourcepacks/', size: 0, type: 'æ–‡ä»¶å¤¹', time: new Date().getTime() - 7200000 },
            { name: 'resourcepacks/Default.zip', size: 567890, type: 'ZIPæ–‡ä»¶', time: new Date().getTime() - 86400000 }
        ];

        // æ¸²æŸ“æ–‡ä»¶åˆ—è¡¨
        function renderFileList() {
            const container = document.getElementById('filesContainer');
            fileList.forEach(file => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';

                // æ–‡ä»¶åï¼ˆæ–‡ä»¶å¤¹æ ‡ç‰¹æ®Šæ ·å¼ï¼Œå¯ç‚¹å‡»è·³è½¬ï¼‰
                const nameDiv = document.createElement('div');
                nameDiv.className = 'file-name';
                const link = document.createElement('a');
                link.href = file.name;
                link.textContent = file.name;
                if (file.type === 'æ–‡ä»¶å¤¹') {
                    link.classList.add('folder');
                    link.textContent += ' ğŸ“';
                }
                nameDiv.appendChild(link);

                // æ–‡ä»¶å¤§å°
                const sizeDiv = document.createElement('div');
                sizeDiv.className = 'file-size';
                sizeDiv.textContent = file.size ? formatFileSize(file.size) : '-';

                // æ–‡ä»¶ç±»å‹
                const typeDiv = document.createElement('div');
                typeDiv.className = 'file-type';
                typeDiv.textContent = file.type;

                // ä¿®æ”¹æ—¶é—´
                const timeDiv = document.createElement('div');
                timeDiv.className = 'file-time';
                timeDiv.textContent = formatTime(file.time);

                // ç»„è£…
                fileItem.appendChild(nameDiv);
                fileItem.appendChild(sizeDiv);
                fileItem.appendChild(typeDiv);
                fileItem.appendChild(timeDiv);
                container.appendChild(fileItem);
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.onload = function() {
            setBaseUrl();
            renderFileList();
        };
    </script>
</body>
</html>